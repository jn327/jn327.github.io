<!DOCTYPE html>
<html lang = "en"> <!-- language flag, used by screen readers -->
<head>
  <meta charset = "uft-8" /> <!-- character set definition -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2, minimum-scale=0.5">

  <title>Josh Newland's page</title>
  <!-- imports  CSS definitions with media queries-->
  <link rel= "stylesheet" href ="styles/shared.css">
  <link rel= "stylesheet" href ="styles/topBar.css">

  <link rel= "stylesheet" href ="styles/index.css">
  <link rel= "stylesheet" href ="styles/slider.css">

</head>
<body>

  <div id="canvasContainer" class="toBlur" >
  </div>

  <div id="contentContainer">
    <div id="about" class="labelsContainer">
      <a class="standardButton-close" id="close-about" target="_blank" >x</a>

      <p id="headerLabel" >Hi, I'm Josh Newland</p>
      <p id="descriptionLabel" style="padding-bottom:12px;" >I'm a software programmer from the UK, with an interest in games and web development, procedural generation & good stories</p>

      <a class="standardButton" href="https://docs.google.com/document/d/1aoY__ax24UL680VNK6I426u9ZPTJPOzOeF7xRY3nEOI/edit?usp=sharing" target="_blank" >Check out my CV</a>
    </div>

    <div id="projects" class="labelsContainer">
      <a class="standardButton-close" id="close-projects" target="_blank" >x</a>

      <p id="headerLabel" >Projects</p>
      <p id="descriptionLabel" >
        Most of my small game projects can be found on
        <a href="https://gamejolt.com/@Jn327/games" target="_blank" >Game Jolt</a>
        &
        <a href="https://jn327.itch.io/" target="_blank" >Itch.io</a>
        <br>
        <br>I've also some AAA video game experience and have been known to mess around with Arduinos and Raspberry Pi's
        <br>More info coming soon.
      </p>
    </div>
  </div>

  <!-- scripts -->
  <script src="scripts/CommonElementsCreator.js"></script>
  <script>
    //set canvas container.
    CommonElementsCreator.defaultCanvasParent = document.getElementById("canvasContainer");

    var headerIds = ["about", "projects"];
    var headerElements = [];
    var closeBtn;
    for (var k = 0; k < headerIds.length; k++)
    {
      headerElements.push ( document.getElementById(headerIds[k]) );

      var closeBtn = document.getElementById("close-"+headerIds[k]);
      closeBtn.addEventListener( "click", function() { onHeaderCloseButton() } );
    }

    //creating the header
    CommonElementsCreator.createHeaderElement();
    var headerBtns = CommonElementsCreator.addLinksToHeader( [ "About me", "Projects" ] );
    var visHeaderItemIndex = -1;
    setSelectedHeaderItem(0);

    //listeners for header buttons
    for (var i = 0; i < headerBtns.length; i++)
    {
      headerBtns[i].addEventListener( "click", bindClickToIndex(i) );
    }

    function bindClickToIndex(i)
    {
      // have to wrap it in a closure as when adding event listeners javascript will
      //put them to one side then add them later on once the for loop is done and the value of of i has changed.
      //see https://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example
      return function() { setSelectedHeaderItem(i); };
    }

    function onHeaderCloseButton()
    {
      setSelectedHeaderItem(-1);
    }

    function setSelectedHeaderItem( index )
    {
      if (index == visHeaderItemIndex)
      {
        index = -1;
        //return;
      }

      canvasContainer.className = index >= 0 ? "blurred" : "toBlur";

      visHeaderItemIndex = index;
      for (var j = 0; j < headerElements.length; j++)
      {
        headerElements[j].className = (j == index) ? 'labelsContainer-active' : 'labelsContainer';
        headerBtns[j].className = (j == index) ? "headerLink-active" : "headerLink";
      }
    }

  </script>

  <script src="scripts/FullScreenEffects/ProceduralGarden/Main.js"></script>

</body>
</html>
